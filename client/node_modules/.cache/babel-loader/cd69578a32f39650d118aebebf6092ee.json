{"ast":null,"code":"var _jsxFileName = \"D:\\\\Test\\\\test\\\\client\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport validator from 'validator';\nimport { regexPassword } from '../utils';\nimport { useEffect } from 'react';\nimport { Paper, Container, Link, Stack, Button, Box, Divider, Avatar, Typography, TextField, FilledInput, InputAdornment, IconButton, InputLabel, FormControl, FormHelperText } from '@mui/material';\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\nimport TagFacesIcon from '@mui/icons-material/TagFaces';\nimport theme from '../styles/theme';\nimport '../styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const navigate = useNavigate();\n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    showPassword: false\n  });\n  const [errors, setErrors] = useState({\n    email: false,\n    password: false,\n    fetchError: false,\n    fetchErrorMsg: ''\n  });\n\n  const handleChange = fieldName => event => {\n    const currValue = event.target.value;\n    let isCorrectValue = fieldName === 'email' ? validator.isEmail(currValue) : regexPassword.test(currValue);\n    isCorrectValue ? setErrors({ ...errors,\n      [fieldName]: false\n    }) : setErrors({ ...errors,\n      [fieldName]: true\n    });\n    setValues({ ...values,\n      [fieldName]: event.target.value\n    });\n  };\n\n  const handleShowPassword = () => {\n    setValues({ ...values,\n      showPassword: !values.showPassword\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const res = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: values.email,\n          password: values.password\n        })\n      });\n\n      if (!res.ok) {\n        const error = await res.json();\n        return setErrors({ ...errors,\n          fetchError: true,\n          fetchErrorMsg: error.msg\n        });\n      }\n\n      const data = await res.json();\n      navigate(\"/home\");\n      setErrors({ ...errors,\n        fetchError: true,\n        fetchErrorMsg: data.msg\n      });\n      setValues({\n        email: '',\n        password: '',\n        showPassword: false\n      });\n      return;\n    } catch (error) {\n      setErrors({ ...errors,\n        fetchError: true,\n        fetchErrorMsg: 'There was a problem with our server, please try again later'\n      });\n    }\n  };\n\n  useEffect(() => {\n    return () => {// Cleanup tasks (if any) can be added here\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        marginTop: '10%'\n      },\n      maxWidth: \"xs\",\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 6,\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"sm\",\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            paddingTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              width: 80,\n              height: 80,\n              bgcolor: theme.palette.primary.main,\n              boxShadow: '0px 0px 8px rgba(131,153,167,0.99)'\n            },\n            children: /*#__PURE__*/_jsxDEV(TagFacesIcon, {\n              sx: {\n                fontSize: 70\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          noValidate: true,\n          spacing: 6,\n          sx: {\n            bgcolor: '#f5f5f6',\n            padding: '40px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            variant: \"filled\",\n            type: \"email\",\n            label: \"Email\",\n            value: values.email,\n            onChange: handleChange('email'),\n            error: errors.email,\n            helperText: errors.email && 'Please insert a valid email address'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            variant: \"filled\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"password-field\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FilledInput, {\n              id: \"password-field\",\n              type: values.showPassword ? 'text' : 'password',\n              value: values.password,\n              onChange: handleChange('password'),\n              error: errors.password,\n              endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  \"aria-label\": \"toggle password visibility\",\n                  onClick: handleShowPassword,\n                  edge: \"end\",\n                  children: values.showPassword ? /*#__PURE__*/_jsxDEV(VisibilityOff, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 46\n                  }, this) : /*#__PURE__*/_jsxDEV(Visibility, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 66\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              size: \"large\",\n              type: \"submit\",\n              disabled: errors.email || errors.password,\n              sx: {\n                minWidth: '70%'\n              },\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), errors.fetchError && /*#__PURE__*/_jsxDEV(FormHelperText, {\n            error: true,\n            children: errors.fetchErrorMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            paragraph: true,\n            align: \"center\",\n            children: [\"Don't have an account yet?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n              component: RouterLink,\n              to: \"/signup\",\n              children: \"Sign up here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"2qPVSXX7QZV+6XduBOi6+1Fjfrg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/Test/test/client/src/components/Login.js"],"names":["React","useState","Link","RouterLink","useNavigate","validator","regexPassword","useEffect","Paper","Container","Stack","Button","Box","Divider","Avatar","Typography","TextField","FilledInput","InputAdornment","IconButton","InputLabel","FormControl","FormHelperText","Visibility","VisibilityOff","TagFacesIcon","theme","Login","navigate","values","setValues","email","password","showPassword","errors","setErrors","fetchError","fetchErrorMsg","handleChange","fieldName","event","currValue","target","value","isCorrectValue","isEmail","test","handleShowPassword","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","error","json","msg","data","marginTop","display","flexDirection","justifyContent","alignItems","paddingTop","width","height","bgcolor","palette","primary","main","boxShadow","fontSize","padding","minWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Link as RouterLink, useNavigate } from 'react-router-dom'\nimport validator from 'validator'\nimport { regexPassword } from '../utils'\nimport { useEffect } from 'react'\nimport {\n  Paper,\n  Container,\n  Link,\n  Stack,\n  Button,\n  Box,\n  Divider,\n  Avatar,\n  Typography,\n  TextField,\n  FilledInput,\n  InputAdornment,\n  IconButton,\n  InputLabel,\n  FormControl,\n  FormHelperText,\n} from '@mui/material'\nimport {\n  Visibility,\n  VisibilityOff,\n} from '@mui/icons-material'\nimport TagFacesIcon from '@mui/icons-material/TagFaces';\nimport theme from '../styles/theme'\nimport '../styles/App.css'\n\nfunction Login() {\n  const navigate = useNavigate();\n  \n  const [values, setValues] = useState({\n    email: '',\n    password: '',\n    showPassword: false,\n  })\n  const [errors, setErrors] = useState({\n    email: false,\n    password: false,\n    fetchError: false,\n    fetchErrorMsg: '',\n  })\n\n  const handleChange = (fieldName) => (event) => {\n    const currValue = event.target.value\n    let isCorrectValue =\n      fieldName === 'email'\n        ? validator.isEmail(currValue)\n        : regexPassword.test(currValue)\n\n    isCorrectValue\n      ? setErrors({ ...errors, [fieldName]: false })\n      : setErrors({ ...errors, [fieldName]: true })\n\n    setValues({ ...values, [fieldName]: event.target.value })\n  }\n\n  const handleShowPassword = () => {\n    setValues({\n      ...values,\n      showPassword: !values.showPassword,\n    })\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n\n    try {\n      const res = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          email: values.email,\n          password: values.password,\n        }),\n      })\n\n      if (!res.ok) {\n        const error = await res.json()\n        return setErrors({\n          ...errors,\n          fetchError: true,\n          fetchErrorMsg: error.msg,\n        })\n      }\n      const data = await res.json()\n      navigate(\"/home\");\n      setErrors({\n        ...errors,\n        fetchError: true,\n        fetchErrorMsg: data.msg,\n      })\n      setValues({\n        email: '',\n        password: '',\n        showPassword: false,\n      })\n      return\n    } catch (error) {\n      setErrors({\n        ...errors,\n        fetchError: true,\n        fetchErrorMsg:\n          'There was a problem with our server, please try again later',\n      })\n    }\n  }\n  useEffect(() => {\n    return () => {\n      // Cleanup tasks (if any) can be added here\n    };\n  }, []);\n\n  return (\n    <>\n      <Container sx={{ marginTop: '10%' }} maxWidth='xs'>\n        <Paper elevation={6}>\n          <Container\n            maxWidth='sm'\n            sx={{\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center',\n              paddingTop: '20px',\n            }}>\n            <Avatar\n              sx={{\n                width: 80,\n                height: 80,\n                bgcolor: theme.palette.primary.main,\n                boxShadow: '0px 0px 8px rgba(131,153,167,0.99)',\n              }}>\n              <TagFacesIcon sx={{ fontSize: 70 }} />\n            </Avatar>\n            <h2>Login</h2>\n          </Container>\n          <Stack\n            component='form'\n            onSubmit={handleSubmit}\n            noValidate\n            spacing={6}\n            sx={{ bgcolor: '#f5f5f6', padding: '40px' }}>\n            <TextField\n              variant='filled'\n              type='email'\n              label='Email'\n              value={values.email}\n              onChange={handleChange('email')}\n              error={errors.email}\n              helperText={errors.email && 'Please insert a valid email address'}\n            />\n\n            <FormControl variant='filled'>\n              <InputLabel htmlFor='password-field'>Password</InputLabel>\n              <FilledInput\n                id='password-field'\n                type={values.showPassword ? 'text' : 'password'}\n                value={values.password}\n                onChange={handleChange('password')}\n                error={errors.password}\n                endAdornment={\n                  <InputAdornment position='end'>\n                    <IconButton\n                      aria-label='toggle password visibility'\n                      onClick={handleShowPassword}\n                      edge='end'>\n                      {values.showPassword ? <VisibilityOff /> : <Visibility />}\n                    </IconButton>\n                  </InputAdornment>\n                }\n              />\n            </FormControl>\n            <Box\n              sx={{\n                display: 'flex',\n                justifyContent: 'center',\n              }}>\n              <Button\n                variant='contained'\n                size='large'\n                type='submit'\n                disabled={errors.email || errors.password}\n                sx={{\n                  minWidth: '70%',\n                }}>\n                Login\n              </Button>\n            </Box>\n            {errors.fetchError && (\n              <FormHelperText error>{errors.fetchErrorMsg}</FormHelperText>\n            )}\n            <Divider />\n            <Typography paragraph align='center'>\n              Don't have an account yet?{' '}\n              <Link component={RouterLink} to='/signup'>\n                Sign up here\n              </Link>\n            </Typography>\n          </Stack>\n        </Paper>\n      </Container>\n    </>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}